user www-data;

worker_processes auto;

load_module modules/ngx_http_image_filter_module.so;

events {
  worker_connections 1024;
}

http {


  server {

    listen 80;
    server_name 167.99.93.26;

    root /sites/demo;

    index index.php index.html;

    location / {
      try_files $uri $uri/ =404;
    }

    location ~\.php$ {
      # Pass php requests to the php-fpm service (fastcgi)
      include fastcgi.conf;
      fastcgi_pass unix:/run/php/php7.1-fpm.sock;
    }

    location = /thumb.png {
    # add_header hello "world"  #Adds header hello with the value world
    add_header Cache-Control public  # To tell the server that the reponse can be cached
    add_header Pragma public # Just the older version of Cache-control
    add_header Vary accept-encodig  #Response can vary base on requset valueaccept-encoding.i.e for the case when response is compresses using gzip,that time it should use the new response
    expires 1M # This makes the header expires in 1m(1 minute) 1s(second) 1M(Month) 1Y

    }

  }
}
